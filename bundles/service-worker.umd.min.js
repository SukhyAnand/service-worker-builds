/**
 * @license Angular v6.1.0-beta.3+36.sha-8fe8b8f
 * (c) 2010-2018 Google, Inc. https://angular.io/
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("rxjs/operators"),require("rxjs")):"function"==typeof define&&define.amd?define("@angular/service-worker",["exports","@angular/common","@angular/core","rxjs/operators","rxjs"],t):t((e.ng=e.ng||{},e.ng.serviceWorker={}),e.ng.common,e.ng.core,e.rxjs.operators,e.rxjs)}(this,function(e,t,r,n,i){"use strict";var o=Object.assign||function e(t){for(var r,n=1,i=arguments.length;n<i;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t};function s(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function a(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var u="Service workers are disabled or not supported by this browser",c=function(){function e(e){if(this.serviceWorker=e,e){var t=i.fromEvent(e,"controllerchange").pipe(n.map(function(){return e.controller})),r=i.defer(function(){return i.of(e.controller)}),o=i.concat(r,t);this.worker=o.pipe(n.filter(function(e){return!!e})),this.registration=this.worker.pipe(n.switchMap(function(){return e.getRegistration()}));var s=i.fromEvent(e,"message").pipe(n.map(function(e){return e.data})).pipe(n.filter(function(e){return!!e&&!!e.type})).pipe(n.publish());this.events=s,s.connect()}else this.worker=this.events=this.registration=function a(e){return i.defer(function(){return i.throwError(new Error(e))})}(u)}return e.prototype.postMessage=function(e,t){return this.worker.pipe(n.take(1),n.tap(function(r){r.postMessage(o({action:e},t))})).toPromise().then(function(){})},e.prototype.postMessageWithStatus=function(e,t,r){var n=this.waitForStatus(r),i=this.postMessage(e,t);return Promise.all([n,i]).then(function(){})},e.prototype.generateNonce=function(){return Math.round(1e7*Math.random())},e.prototype.eventsOfType=function(e){return this.events.pipe(n.filter(function(t){return t.type===e}))},e.prototype.nextEventOfType=function(e){return this.eventsOfType(e).pipe(n.take(1))},e.prototype.waitForStatus=function(e){return this.eventsOfType("STATUS").pipe(n.filter(function(t){return t.nonce===e}),n.take(1),n.map(function(e){if(!e.status)throw new Error(e.error)})).toPromise()},Object.defineProperty(e.prototype,"isEnabled",{get:function(){return!!this.serviceWorker},enumerable:!0,configurable:!0}),e}(),p=function(){function e(e){if(this.sw=e,this.subscriptionChanges=new i.Subject,!e.isEnabled)return this.messages=i.NEVER,void(this.subscription=i.NEVER);this.messages=this.sw.eventsOfType("PUSH").pipe(n.map(function(e){return e.data})),this.pushManager=this.sw.registration.pipe(n.map(function(e){return e.pushManager}));var t=this.pushManager.pipe(n.switchMap(function(e){return e.getSubscription().then(function(e){return e})}));this.subscription=i.merge(t,this.subscriptionChanges)}return Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this.sw.isEnabled},enumerable:!0,configurable:!0}),e.prototype.requestSubscription=function(e){var t=this;if(!this.sw.isEnabled)return Promise.reject(new Error(u));for(var r={userVisibleOnly:!0},i=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length)),s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(n.switchMap(function(e){return e.subscribe(r)}),n.take(1)).toPromise().then(function(e){return t.subscriptionChanges.next(e),e})},e.prototype.unsubscribe=function(){var e=this;return this.sw.isEnabled?this.subscription.pipe(n.take(1),n.switchMap(function(t){if(null===t)throw new Error("Not subscribed to push notifications.");return t.unsubscribe().then(function(t){if(!t)throw new Error("Unsubscribe failed!");e.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(u))},e.prototype.decodeBase64=function(e){return atob(e)},s([r.Injectable(),a("design:paramtypes",[c])],e)}(),f=function(){function e(e){if(this.sw=e,!e.isEnabled)return this.available=i.NEVER,void(this.activated=i.NEVER);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED")}return Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this.sw.isEnabled},enumerable:!0,configurable:!0}),e.prototype.checkForUpdate=function(){if(!this.sw.isEnabled)return Promise.reject(new Error(u));var e=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:e},e)},e.prototype.activateUpdate=function(){if(!this.sw.isEnabled)return Promise.reject(new Error(u));var e=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:e},e)},s([r.Injectable(),a("design:paramtypes",[c])],e)}(),l=function l(){},h=new r.InjectionToken("NGSW_REGISTER_SCRIPT");function d(e,i,o,s){return function(){var a=e.get(r.ApplicationRef);if(t.isPlatformBrowser(s)&&"serviceWorker"in navigator&&!1!==o.enabled){var u=a.isStable.pipe(n.filter(function(e){return!!e}),n.take(1)).toPromise();navigator.serviceWorker.addEventListener("controllerchange",function(){null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),u.then(function(){return navigator.serviceWorker.register(i,{scope:o.scope})})}}}function g(e,r){return new c(t.isPlatformBrowser(r)&&!1!==e.enabled?navigator.serviceWorker:void 0)}var v=function(){function e(){}var t;return t=e,e.register=function(e,n){return void 0===n&&(n={}),{ngModule:t,providers:[{provide:h,useValue:e},{provide:l,useValue:n},{provide:c,useFactory:g,deps:[l,r.PLATFORM_ID]},{provide:r.APP_INITIALIZER,useFactory:d,deps:[r.Injector,h,l,r.PLATFORM_ID],multi:!0}]}},t=s([r.NgModule({providers:[p,f]})],e)}();
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
* @license
* Copyright Google Inc. All Rights Reserved.
*
* Use of this source code is governed by an MIT-style license that can be
* found in the LICENSE file at https://angular.io/license
*/
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */e.ServiceWorkerModule=v,e.SwPush=p,e.SwUpdate=f,Object.defineProperty(e,"__esModule",{value:!0})});